# Violentmonkey Metadata Block Cheatsheet

## Core Formatting

- `// UserScript` (First line)
- `// @key value` (Each metadata line - one space after `//`)
- \`// \/UserScript` (Last Line)

## General Notes

- **Required:** `@name`
- **Multilingual:** `@name:en`, `@description:zh-CN` (use locale codes)
- **`@match` Recommended:** Prefer over `@include`.

## Metadata Keys

| Key                | Description                                                          | Details                                                                                                                                                                                                                                                          |
| :----------------- | :------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `@name`            | Script Name                                                          | Required, multilingual, unique within `@namespace`. Conflicts with existing scripts lead to errors.                                                                                                                                                              |
| `@namespace`       | Script Namespace                                                     | URL like identifying author/group. Defaults to `''` if not specified.                                                                                                                                                                                            |
| `@match`           | URL matching rules                                                   | Multiple entries allowed, see [matching rules](https://violentmonkey.github.io/api/matching/)                                                                                                                                                                    |
| `@exclude-match`   | URL exclusion rules                                                  | Multiple entries allowed, see [matching rules](https://violentmonkey.github.io/api/matching/)                                                                                                                                                                    |
| `@include`         | Deprecated. URL includes/excludes, use `@match` and `@exclude-match` | Multiple entries allowed, see [matching rules](https://violentmonkey.github.io/api/matching/)                                                                                                                                                                    |
| `@exclude`         | Deprecated. URL includes/excludes, use `@match` and `@exclude-match` | Multiple entries allowed, see [matching rules](https://violentmonkey.github.io/api/matching/)                                                                                                                                                                    |
| `@version`         | Script Version                                                       | Used for update checks. Format: `1.0`, `1.2a.3`. Without this, script will not auto-update.                                                                                                                                                                      |
| `@description`     | Script Description                                                   | Multilingual.                                                                                                                                                                                                                                                    |
| `@icon`            | Script Icon                                                          | URL to the icon image.                                                                                                                                                                                                                                           |
| `@require`         | Required External Script                                             | URL to the dependent script. Loaded before the main script. Local files are not allowed to be required due to security concern.                                                                                                                                  |
| `@resource`        | Static Resources                                                     | Resource Name URL (e.g., `@resource logo https://example.com/logo.png`). Accessible via `GM_getResourceText` and `GM_getResourceURL`.                                                                                                                            |
| `@run-at`          | Script Execution Timing                                              | Options: <br> `document-start` (as early as possible, may miss `document.head` or `document.body`)<br> `document-body` (after `document.body` appears) <br> `document-end` (default - `DOMContentLoaded`),<br> `document-idle` (after `DOMContentLoaded`, async) |
| `@noframes`        | Run in Top Level Frame Only.                                         | Prevents script execution in iframes.                                                                                                                                                                                                                            |
| `@grant`           | API Permissions                                                      | If no `@grant` is present, `@grant none` is assumed implying no sandboxing. <br>Specify granted APIs: `GM_getValue`, `GM_setValue` (or via `GM.*` format since Violentmonkey 2.12.10).                                                                           |
|                    |                                                                      | Grants: `window.close` (v2.6.2+), `window.focus` (v2.12.10+)                                                                                                                                                                                                     |
| `@inject-into`     | Injection Context                                                    | `page` (default if not present/auto), `content`, `auto` (try page, otherwise content)                                                                                                                                                                            |
| `@downloadURL`     | Download URL                                                         | URL to download the script. Automatically added on install by URL.                                                                                                                                                                                               |
| `@supportURL`      | Support URL                                                          | Link for help (question mark in script list).                                                                                                                                                                                                                    |
| `@homepageURL`     | Homepage URL                                                         | Link for homepage (home icon in script list).                                                                                                                                                                                                                    |
| `@unwrap`          | Inject as is into global scope                                       | Since VM2.13.1. `@grant` is ignored. `@inject-into` key is supported. Good for direct access to globals (e.g., `const`) or migration from other extensions.                                                                                                      |
| `@top-level-await` | Enables top-level `await`                                            | Since VM2.19.2. Avoid using for dependencies; Use `@require` or `@resource`. Cannot use with `@unwrap`.                                                                                                                                                          |
